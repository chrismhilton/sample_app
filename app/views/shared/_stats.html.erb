<!--
shared user follower stats partial used in home and user show (profile) pages;
using ||= which does nothing when @user is not nil (as on a profile page)
but when it is (as on the home page) it sets @user to the current user;
worth noting the presence of CSS ids on some elements eg. span id="following" class="stat"
for the benefit of the Ajax implementation which accesses elements on the page using their unique id
-->

<% @user ||= current_user %>
<div class="stats">
  <table summary="User stats">
    <tr>
      <td>
        <a href="<%= following_user_path(@user) %>">
          <span id="following" class="stat">
            <%= @user.following.count %> following
          </span>
        </a>
      </td>
      <td>
        <a href="<%= followers_user_path(@user) %>">
          <span id="followers" class="stat">
            <%= pluralize(@user.followers.count, "follower") %>
          </span>
        </a>
      </td>
    </tr>
  </table>
</div>
